# 개발 태스크 목록

## 초기 설정
- [x] 프로젝트 구조 설계 및 프론트엔드/백엔드 디렉터리 구분
- [x] Node.js + Express 백엔드 초기화 및 패키지 의존성 정의
- [x] 프론트엔드 정적 자산 빌드 파이프라인(바닐라 JS) 구성
- [x] 환경 변수 관리(.env, .env.example) 전략 수립
- [x] SQLite 데이터베이스 초기 파일과 마이그레이션 전략 확정

## 데이터베이스 및 도메인 모델링
- [x] `schema.sql` 정의: `users`, `domains`, `quests`, `app_config` 테이블 생성
- [x] 도메인 기본 데이터(체력/지력/감성/의지/영성/말씀) 시드 스크립트 작성
- [x] 레벨/XP 임계값 및 보상 구성 시드 데이터 정의
- [x] `db.js`에서 SQLite 커넥션 풀 및 쿼리 유틸리티 구현
- [x] 레벨업 계산 로직(연속 상승 허용, 보상 반환) 설계
- [x] 의지 도메인 자동 XP 증가 규칙(퀘스트 완료 시) 정의

## 백엔드 API 구현
- [x] Express 서버(`server.js`) 기본 설정 및 로깅 미들웨어 도입
- [x] CORS 화이트리스트 환경 변수화 및 미들웨어 구성
- [x] X-Device-ID 헤더 검증 공통 미들웨어 작성
- [x] 간단 레이트리밋 미들웨어 구성(디바이스/아이피 기준)
- [x] `/api/bootstrap`: 초기 유저/도메인/설정 데이터 제공
- [x] `/api/snapshot`: 프론트 동기화를 위한 전체 상태 스냅샷 제공
- [x] `/api/quests` POST: 퀘스트 생성(반복 설정 포함)
- [x] `/api/quests` PATCH: 퀘스트 속성 수정 및 반복 처리
- [x] `/api/quests` DELETE: 다중 또는 단일 퀘스트 삭제 처리
- [x] `/api/quests/:id/complete`: 완료 처리, 의지 XP 증가 및 레벨업 반영
- [x] `/api/domains` GET/PATCH: 도메인 현황 조회 및 XP/레벨 업데이트
- [x] `/api/config` GET/PATCH: 레벨 기준/보상/의지 XP 설정 조회/수정
- [x] `/api/reset` POST: 유저 및 진행 데이터 초기화
- [x] 백엔드 입력 검증 및 오류 응답 포맷 통일
- [x] 단위/통합 테스트(예: supertest) 설계 및 작성

## 프론트엔드 UI/UX 구현
- [x] `index.html` 기본 레이아웃과 PWA 메타 태그 구성
- [x] 상단 1/3 영역: 도메인 상태 카루셀(레벨, XP 바, 아이콘) 구현
- [x] 하단 2/3 영역: 탭 네비게이션(오늘/내일/다가올) 구조 구성
- [x] 퀘스트 카드 컴포넌트(제목, XP, 날짜, 반복 여부, 조작 버튼) 구현
- [x] 퀘스트 CRUD 및 미루기, 반복 설정 UI/동작 연결
- [x] 퀘스트 완료 시 애니메이션 및 도메인/의지 XP 반영 UI 업데이트
- [x] 레벨업 발생 시 보상 텍스트/아이콘/사운드 표시 인터랙션
- [x] 설정 화면(레벨 기준표, 보상 목록, 의지 XP 설정) 모달/패널 구현
- [x] 데이터 리셋 트리거 및 사용자 확인 UX 구현

## PWA 및 오프라인 기능
- [x] `manifest.json` 작성 및 아이콘 자산 준비(`/assets/icons/*`)
- [x] 서비스 워커(`sw.js`)에서 정적 자산 캐싱 전략 구현
- [x] 오프라인 상태 감지 및 변경 큐(퀘스트 수정 등) 로컬 저장
- [x] 온라인 복귀 시 큐 동기화 로직 및 충돌 처리 설계
- [x] 오프라인 캐싱된 사운드 및 아이콘 로딩 테스트
- [x] 백엔드 API 실패 시 재시도 및 상태 표시 처리

## 프론트엔드 상태 관리 및 동기화
- [x] `/api/bootstrap` 호출로 초기 상태 로드 및 로컬 저장
- [x] `/api/snapshot` 주기적 동기화 및 변경 사항 머지 로직 구현
- [x] 도메인/퀘스트 상태 로컬 저장소(persisted state) 구조 설계
- [x] 의지 XP 자동 증가 반영을 위한 완료 이벤트 버스 구축
- [x] 알림/사운드 재생(보상 등) 유틸리티 모듈 구현

## 품질 보증 및 테스트
- [x] 백엔드 API 테스트 자동화 스크립트 작성
- [x] 프론트엔드 주요 흐름 E2E 테스트 계획 수립(오프라인/온라인 전환 포함)
- [x] ESLint/Prettier 등 코드 품질 도구 설정 고려(필요 시)
- [x] 접근성 및 반응형 레이아웃 점검 체크리스트 작성

## 배포 및 운영
- [x] GitHub Pages용 정적 빌드/배포 파이프라인 문서화
- [x] Render/Railway 백엔드 배포 스크립트 및 환경 변수 설정 문서화
- [x] CORS 화이트리스트에 프론트 배포 도메인 적용 절차 마련
- [x] iOS PWA 설치(iPhone Safari 홈 화면 추가) 가이드 정리
- [x] 로그/레이트리밋 모니터링 및 운영 가이드 작성

## 문서화
- [x] API 스펙 및 요청/응답 예시 문서화
- [x] 데이터베이스 스키마 및 도메인 규칙 문서화
- [x] 개발 환경 세팅 & 실행 방법 README 정리
- [x] 오프라인 기능 및 동기화 동작 설명서 작성
- [x] 릴리즈 노트 및 업데이트 프로세스 템플릿 준비